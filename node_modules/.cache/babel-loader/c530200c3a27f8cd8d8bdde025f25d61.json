{"ast":null,"code":"/**\n * Minimal Event interface implementation\n *\n * Original implementation by Sven Fuchs: https://gist.github.com/995028\n * Modifications and tests by Christian Johansen.\n *\n * @author Sven Fuchs (svenfuchs@artweb-design.de)\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2011 Sven Fuchs, Christian Johansen\n */\nvar _Event = function Event(type, bubbles, cancelable, target) {\n  this.type = type;\n  this.bubbles = bubbles;\n  this.cancelable = cancelable;\n  this.target = target;\n};\n\n_Event.prototype = {\n  stopPropagation: function () {},\n  preventDefault: function () {\n    this.defaultPrevented = true;\n  }\n};\n/*\n  Used to set the statusText property of an xhr object\n*/\n\nvar httpStatusCodes = {\n  100: \"Continue\",\n  101: \"Switching Protocols\",\n  200: \"OK\",\n  201: \"Created\",\n  202: \"Accepted\",\n  203: \"Non-Authoritative Information\",\n  204: \"No Content\",\n  205: \"Reset Content\",\n  206: \"Partial Content\",\n  300: \"Multiple Choice\",\n  301: \"Moved Permanently\",\n  302: \"Found\",\n  303: \"See Other\",\n  304: \"Not Modified\",\n  305: \"Use Proxy\",\n  307: \"Temporary Redirect\",\n  400: \"Bad Request\",\n  401: \"Unauthorized\",\n  402: \"Payment Required\",\n  403: \"Forbidden\",\n  404: \"Not Found\",\n  405: \"Method Not Allowed\",\n  406: \"Not Acceptable\",\n  407: \"Proxy Authentication Required\",\n  408: \"Request Timeout\",\n  409: \"Conflict\",\n  410: \"Gone\",\n  411: \"Length Required\",\n  412: \"Precondition Failed\",\n  413: \"Request Entity Too Large\",\n  414: \"Request-URI Too Long\",\n  415: \"Unsupported Media Type\",\n  416: \"Requested Range Not Satisfiable\",\n  417: \"Expectation Failed\",\n  422: \"Unprocessable Entity\",\n  500: \"Internal Server Error\",\n  501: \"Not Implemented\",\n  502: \"Bad Gateway\",\n  503: \"Service Unavailable\",\n  504: \"Gateway Timeout\",\n  505: \"HTTP Version Not Supported\"\n};\n/*\n  Cross-browser XML parsing. Used to turn\n  XML responses into Document objects\n  Borrowed from JSpec\n*/\n\nfunction parseXML(text) {\n  var xmlDoc;\n\n  if (typeof DOMParser != \"undefined\") {\n    var parser = new DOMParser();\n    xmlDoc = parser.parseFromString(text, \"text/xml\");\n  } else {\n    xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n    xmlDoc.async = \"false\";\n    xmlDoc.loadXML(text);\n  }\n\n  return xmlDoc;\n}\n/*\n  Without mocking, the native XMLHttpRequest object will throw\n  an error when attempting to set these headers. We match this behavior.\n*/\n\n\nvar unsafeHeaders = {\n  \"Accept-Charset\": true,\n  \"Accept-Encoding\": true,\n  \"Connection\": true,\n  \"Content-Length\": true,\n  \"Cookie\": true,\n  \"Cookie2\": true,\n  \"Content-Transfer-Encoding\": true,\n  \"Date\": true,\n  \"Expect\": true,\n  \"Host\": true,\n  \"Keep-Alive\": true,\n  \"Referer\": true,\n  \"TE\": true,\n  \"Trailer\": true,\n  \"Transfer-Encoding\": true,\n  \"Upgrade\": true,\n  \"User-Agent\": true,\n  \"Via\": true\n};\n/*\n  Adds an \"event\" onto the fake xhr object\n  that just calls the same-named method. This is\n  in case a library adds callbacks for these events.\n*/\n\nfunction _addEventListener(eventName, xhr) {\n  xhr.addEventListener(eventName, function (event) {\n    var listener = xhr[\"on\" + eventName];\n\n    if (listener && typeof listener == \"function\") {\n      listener.call(event.target, event);\n    }\n  });\n}\n\nfunction EventedObject() {\n  this._eventListeners = {};\n  var events = [\"loadstart\", \"progress\", \"load\", \"abort\", \"loadend\"];\n\n  for (var i = events.length - 1; i >= 0; i--) {\n    _addEventListener(events[i], this);\n  }\n}\n\n;\nEventedObject.prototype = {\n  /*\n    Duplicates the behavior of native XMLHttpRequest's addEventListener function\n  */\n  addEventListener: function addEventListener(event, listener) {\n    this._eventListeners[event] = this._eventListeners[event] || [];\n\n    this._eventListeners[event].push(listener);\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's removeEventListener function\n  */\n  removeEventListener: function removeEventListener(event, listener) {\n    var listeners = this._eventListeners[event] || [];\n\n    for (var i = 0, l = listeners.length; i < l; ++i) {\n      if (listeners[i] == listener) {\n        return listeners.splice(i, 1);\n      }\n    }\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's dispatchEvent function\n  */\n  dispatchEvent: function dispatchEvent(event) {\n    var type = event.type;\n    var listeners = this._eventListeners[type] || [];\n\n    for (var i = 0; i < listeners.length; i++) {\n      if (typeof listeners[i] == \"function\") {\n        listeners[i].call(this, event);\n      } else {\n        listeners[i].handleEvent(event);\n      }\n    }\n\n    return !!event.defaultPrevented;\n  },\n\n  /*\n    Triggers an `onprogress` event with the given parameters.\n  */\n  _progress: function _progress(lengthComputable, loaded, total) {\n    var event = new _Event('progress');\n    event.target = this;\n    event.lengthComputable = lengthComputable;\n    event.loaded = loaded;\n    event.total = total;\n    this.dispatchEvent(event);\n  }\n};\n/*\n  Constructor for a fake window.XMLHttpRequest\n*/\n\nfunction FakeXMLHttpRequest() {\n  EventedObject.call(this);\n  this.readyState = FakeXMLHttpRequest.UNSENT;\n  this.requestHeaders = {};\n  this.requestBody = null;\n  this.status = 0;\n  this.statusText = \"\";\n  this.upload = new EventedObject();\n  this.onabort = null;\n  this.onerror = null;\n  this.onload = null;\n  this.onloadend = null;\n  this.onloadstart = null;\n  this.onprogress = null;\n  this.onreadystatechange = null;\n  this.ontimeout = null;\n}\n\nFakeXMLHttpRequest.prototype = new EventedObject(); // These status codes are available on the native XMLHttpRequest\n// object, so we match that here in case a library is relying on them.\n\nFakeXMLHttpRequest.UNSENT = 0;\nFakeXMLHttpRequest.OPENED = 1;\nFakeXMLHttpRequest.HEADERS_RECEIVED = 2;\nFakeXMLHttpRequest.LOADING = 3;\nFakeXMLHttpRequest.DONE = 4;\nvar FakeXMLHttpRequestProto = {\n  UNSENT: 0,\n  OPENED: 1,\n  HEADERS_RECEIVED: 2,\n  LOADING: 3,\n  DONE: 4,\n  async: true,\n  withCredentials: false,\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's open function\n  */\n  open: function open(method, url, async, username, password) {\n    this.method = method;\n    this.url = url;\n    this.async = typeof async == \"boolean\" ? async : true;\n    this.username = username;\n    this.password = password;\n    this.responseText = null;\n    this.response = this.responseText;\n    this.responseXML = null;\n    this.responseURL = url;\n    this.requestHeaders = {};\n    this.sendFlag = false;\n\n    this._readyStateChange(FakeXMLHttpRequest.OPENED);\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's setRequestHeader function\n  */\n  setRequestHeader: function setRequestHeader(header, value) {\n    verifyState(this);\n\n    if (unsafeHeaders[header] || /^(Sec-|Proxy-)/.test(header)) {\n      throw new Error(\"Refused to set unsafe header \\\"\" + header + \"\\\"\");\n    }\n\n    if (this.requestHeaders[header]) {\n      this.requestHeaders[header] += \",\" + value;\n    } else {\n      this.requestHeaders[header] = value;\n    }\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's send function\n  */\n  send: function send(data) {\n    verifyState(this);\n\n    if (!/^(get|head)$/i.test(this.method)) {\n      var hasContentTypeHeader = false;\n      Object.keys(this.requestHeaders).forEach(function (key) {\n        if (key.toLowerCase() === 'content-type') {\n          hasContentTypeHeader = true;\n        }\n      });\n\n      if (!hasContentTypeHeader && !(data || '').toString().match('FormData')) {\n        this.requestHeaders[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\n      }\n\n      this.requestBody = data;\n    }\n\n    this.errorFlag = false;\n    this.sendFlag = this.async;\n\n    this._readyStateChange(FakeXMLHttpRequest.OPENED);\n\n    if (typeof this.onSend == \"function\") {\n      this.onSend(this);\n    }\n\n    this.dispatchEvent(new _Event(\"loadstart\", false, false, this));\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's abort function\n  */\n  abort: function abort() {\n    this.aborted = true;\n    this.responseText = null;\n    this.response = this.responseText;\n    this.errorFlag = true;\n    this.requestHeaders = {};\n    this.dispatchEvent(new _Event(\"abort\", false, false, this));\n\n    if (this.readyState > FakeXMLHttpRequest.UNSENT && this.sendFlag) {\n      this._readyStateChange(FakeXMLHttpRequest.UNSENT);\n\n      this.sendFlag = false;\n    }\n\n    if (typeof this.onerror === \"function\") {\n      this.onerror();\n    }\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's getResponseHeader function\n  */\n  getResponseHeader: function getResponseHeader(header) {\n    if (this.readyState < FakeXMLHttpRequest.HEADERS_RECEIVED) {\n      return null;\n    }\n\n    if (/^Set-Cookie2?$/i.test(header)) {\n      return null;\n    }\n\n    header = header.toLowerCase();\n\n    for (var h in this.responseHeaders) {\n      if (h.toLowerCase() == header) {\n        return this.responseHeaders[h];\n      }\n    }\n\n    return null;\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's getAllResponseHeaders function\n  */\n  getAllResponseHeaders: function getAllResponseHeaders() {\n    if (this.readyState < FakeXMLHttpRequest.HEADERS_RECEIVED) {\n      return \"\";\n    }\n\n    var headers = \"\";\n\n    for (var header in this.responseHeaders) {\n      if (this.responseHeaders.hasOwnProperty(header) && !/^Set-Cookie2?$/i.test(header)) {\n        headers += header + \": \" + this.responseHeaders[header] + \"\\r\\n\";\n      }\n    }\n\n    return headers;\n  },\n\n  /*\n   Duplicates the behavior of native XMLHttpRequest's overrideMimeType function\n   */\n  overrideMimeType: function overrideMimeType(mimeType) {\n    if (typeof mimeType === \"string\") {\n      this.forceMimeType = mimeType.toLowerCase();\n    }\n  },\n\n  /*\n    Places a FakeXMLHttpRequest object into the passed\n    state.\n  */\n  _readyStateChange: function _readyStateChange(state) {\n    this.readyState = state;\n\n    if (typeof this.onreadystatechange == \"function\") {\n      this.onreadystatechange(new _Event(\"readystatechange\"));\n    }\n\n    this.dispatchEvent(new _Event(\"readystatechange\"));\n\n    if (this.readyState == FakeXMLHttpRequest.DONE) {\n      this.dispatchEvent(new _Event(\"load\", false, false, this));\n    }\n\n    if (this.readyState == FakeXMLHttpRequest.UNSENT || this.readyState == FakeXMLHttpRequest.DONE) {\n      this.dispatchEvent(new _Event(\"loadend\", false, false, this));\n    }\n  },\n\n  /*\n    Sets the FakeXMLHttpRequest object's response headers and\n    places the object into readyState 2\n  */\n  _setResponseHeaders: function _setResponseHeaders(headers) {\n    this.responseHeaders = {};\n\n    for (var header in headers) {\n      if (headers.hasOwnProperty(header)) {\n        this.responseHeaders[header] = headers[header];\n      }\n    }\n\n    if (this.forceMimeType) {\n      this.responseHeaders['Content-Type'] = this.forceMimeType;\n    }\n\n    if (this.async) {\n      this._readyStateChange(FakeXMLHttpRequest.HEADERS_RECEIVED);\n    } else {\n      this.readyState = FakeXMLHttpRequest.HEADERS_RECEIVED;\n    }\n  },\n\n  /*\n    Sets the FakeXMLHttpRequest object's response body and\n    if body text is XML, sets responseXML to parsed document\n    object\n  */\n  _setResponseBody: function _setResponseBody(body) {\n    verifyRequestSent(this);\n    verifyHeadersReceived(this);\n    verifyResponseBodyType(body);\n    var chunkSize = this.chunkSize || 10;\n    var index = 0;\n    this.responseText = \"\";\n    this.response = this.responseText;\n\n    do {\n      if (this.async) {\n        this._readyStateChange(FakeXMLHttpRequest.LOADING);\n      }\n\n      this.responseText += body.substring(index, index + chunkSize);\n      this.response = this.responseText;\n      index += chunkSize;\n    } while (index < body.length);\n\n    var type = this.getResponseHeader(\"Content-Type\");\n\n    if (this.responseText && (!type || /(text\\/xml)|(application\\/xml)|(\\+xml)/.test(type))) {\n      try {\n        this.responseXML = parseXML(this.responseText);\n      } catch (e) {// Unable to parse XML - no biggie\n      }\n    }\n\n    if (this.async) {\n      this._readyStateChange(FakeXMLHttpRequest.DONE);\n    } else {\n      this.readyState = FakeXMLHttpRequest.DONE;\n    }\n  },\n\n  /*\n    Forces a response on to the FakeXMLHttpRequest object.\n     This is the public API for faking responses. This function\n    takes a number status, headers object, and string body:\n     ```\n    xhr.respond(404, {Content-Type: 'text/plain'}, \"Sorry. This object was not found.\")\n     ```\n  */\n  respond: function respond(status, headers, body) {\n    this._setResponseHeaders(headers || {});\n\n    this.status = typeof status == \"number\" ? status : 200;\n    this.statusText = httpStatusCodes[this.status];\n\n    this._setResponseBody(body || \"\");\n  }\n};\n\nfor (var property in FakeXMLHttpRequestProto) {\n  FakeXMLHttpRequest.prototype[property] = FakeXMLHttpRequestProto[property];\n}\n\nfunction verifyState(xhr) {\n  if (xhr.readyState !== FakeXMLHttpRequest.OPENED) {\n    throw new Error(\"INVALID_STATE_ERR\");\n  }\n\n  if (xhr.sendFlag) {\n    throw new Error(\"INVALID_STATE_ERR\");\n  }\n}\n\nfunction verifyRequestSent(xhr) {\n  if (xhr.readyState == FakeXMLHttpRequest.DONE) {\n    throw new Error(\"Request done\");\n  }\n}\n\nfunction verifyHeadersReceived(xhr) {\n  if (xhr.async && xhr.readyState != FakeXMLHttpRequest.HEADERS_RECEIVED) {\n    throw new Error(\"No headers received\");\n  }\n}\n\nfunction verifyResponseBodyType(body) {\n  if (typeof body != \"string\") {\n    var error = new Error(\"Attempted to respond to fake XMLHttpRequest with \" + body + \", which is not a string.\");\n    error.name = \"InvalidBodyException\";\n    throw error;\n  }\n}\n\nexport default FakeXMLHttpRequest;","map":{"version":3,"names":["_Event","Event","type","bubbles","cancelable","target","prototype","stopPropagation","preventDefault","defaultPrevented","httpStatusCodes","parseXML","text","xmlDoc","DOMParser","parser","parseFromString","ActiveXObject","async","loadXML","unsafeHeaders","_addEventListener","eventName","xhr","addEventListener","event","listener","call","EventedObject","_eventListeners","events","i","length","push","removeEventListener","listeners","l","splice","dispatchEvent","handleEvent","_progress","lengthComputable","loaded","total","FakeXMLHttpRequest","readyState","UNSENT","requestHeaders","requestBody","status","statusText","upload","onabort","onerror","onload","onloadend","onloadstart","onprogress","onreadystatechange","ontimeout","OPENED","HEADERS_RECEIVED","LOADING","DONE","FakeXMLHttpRequestProto","withCredentials","open","method","url","username","password","responseText","response","responseXML","responseURL","sendFlag","_readyStateChange","setRequestHeader","header","value","verifyState","test","Error","send","data","hasContentTypeHeader","Object","keys","forEach","key","toLowerCase","toString","match","errorFlag","onSend","abort","aborted","getResponseHeader","h","responseHeaders","getAllResponseHeaders","headers","hasOwnProperty","overrideMimeType","mimeType","forceMimeType","state","_setResponseHeaders","_setResponseBody","body","verifyRequestSent","verifyHeadersReceived","verifyResponseBodyType","chunkSize","index","substring","e","respond","property","error","name"],"sources":["/Users/naruto/Documents/Github/devgram/node_modules/fake-xml-http-request/src/fake-xml-http-request.js"],"sourcesContent":["/**\n * Minimal Event interface implementation\n *\n * Original implementation by Sven Fuchs: https://gist.github.com/995028\n * Modifications and tests by Christian Johansen.\n *\n * @author Sven Fuchs (svenfuchs@artweb-design.de)\n * @author Christian Johansen (christian@cjohansen.no)\n * @license BSD\n *\n * Copyright (c) 2011 Sven Fuchs, Christian Johansen\n */\n\nvar _Event = function Event(type, bubbles, cancelable, target) {\n  this.type = type;\n  this.bubbles = bubbles;\n  this.cancelable = cancelable;\n  this.target = target;\n};\n\n_Event.prototype = {\n  stopPropagation: function () {},\n  preventDefault: function () {\n    this.defaultPrevented = true;\n  }\n};\n\n/*\n  Used to set the statusText property of an xhr object\n*/\nvar httpStatusCodes = {\n  100: \"Continue\",\n  101: \"Switching Protocols\",\n  200: \"OK\",\n  201: \"Created\",\n  202: \"Accepted\",\n  203: \"Non-Authoritative Information\",\n  204: \"No Content\",\n  205: \"Reset Content\",\n  206: \"Partial Content\",\n  300: \"Multiple Choice\",\n  301: \"Moved Permanently\",\n  302: \"Found\",\n  303: \"See Other\",\n  304: \"Not Modified\",\n  305: \"Use Proxy\",\n  307: \"Temporary Redirect\",\n  400: \"Bad Request\",\n  401: \"Unauthorized\",\n  402: \"Payment Required\",\n  403: \"Forbidden\",\n  404: \"Not Found\",\n  405: \"Method Not Allowed\",\n  406: \"Not Acceptable\",\n  407: \"Proxy Authentication Required\",\n  408: \"Request Timeout\",\n  409: \"Conflict\",\n  410: \"Gone\",\n  411: \"Length Required\",\n  412: \"Precondition Failed\",\n  413: \"Request Entity Too Large\",\n  414: \"Request-URI Too Long\",\n  415: \"Unsupported Media Type\",\n  416: \"Requested Range Not Satisfiable\",\n  417: \"Expectation Failed\",\n  422: \"Unprocessable Entity\",\n  500: \"Internal Server Error\",\n  501: \"Not Implemented\",\n  502: \"Bad Gateway\",\n  503: \"Service Unavailable\",\n  504: \"Gateway Timeout\",\n  505: \"HTTP Version Not Supported\"\n};\n\n\n/*\n  Cross-browser XML parsing. Used to turn\n  XML responses into Document objects\n  Borrowed from JSpec\n*/\nfunction parseXML(text) {\n  var xmlDoc;\n\n  if (typeof DOMParser != \"undefined\") {\n    var parser = new DOMParser();\n    xmlDoc = parser.parseFromString(text, \"text/xml\");\n  } else {\n    xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n    xmlDoc.async = \"false\";\n    xmlDoc.loadXML(text);\n  }\n\n  return xmlDoc;\n}\n\n/*\n  Without mocking, the native XMLHttpRequest object will throw\n  an error when attempting to set these headers. We match this behavior.\n*/\nvar unsafeHeaders = {\n  \"Accept-Charset\": true,\n  \"Accept-Encoding\": true,\n  \"Connection\": true,\n  \"Content-Length\": true,\n  \"Cookie\": true,\n  \"Cookie2\": true,\n  \"Content-Transfer-Encoding\": true,\n  \"Date\": true,\n  \"Expect\": true,\n  \"Host\": true,\n  \"Keep-Alive\": true,\n  \"Referer\": true,\n  \"TE\": true,\n  \"Trailer\": true,\n  \"Transfer-Encoding\": true,\n  \"Upgrade\": true,\n  \"User-Agent\": true,\n  \"Via\": true\n};\n\n/*\n  Adds an \"event\" onto the fake xhr object\n  that just calls the same-named method. This is\n  in case a library adds callbacks for these events.\n*/\nfunction _addEventListener(eventName, xhr){\n  xhr.addEventListener(eventName, function (event) {\n    var listener = xhr[\"on\" + eventName];\n\n    if (listener && typeof listener == \"function\") {\n      listener.call(event.target, event);\n    }\n  });\n}\n\nfunction EventedObject() {\n  this._eventListeners = {};\n  var events = [\"loadstart\", \"progress\", \"load\", \"abort\", \"loadend\"];\n  for (var i = events.length - 1; i >= 0; i--) {\n    _addEventListener(events[i], this);\n  }\n};\n\nEventedObject.prototype = {\n  /*\n    Duplicates the behavior of native XMLHttpRequest's addEventListener function\n  */\n  addEventListener: function addEventListener(event, listener) {\n    this._eventListeners[event] = this._eventListeners[event] || [];\n    this._eventListeners[event].push(listener);\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's removeEventListener function\n  */\n  removeEventListener: function removeEventListener(event, listener) {\n    var listeners = this._eventListeners[event] || [];\n\n    for (var i = 0, l = listeners.length; i < l; ++i) {\n      if (listeners[i] == listener) {\n        return listeners.splice(i, 1);\n      }\n    }\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's dispatchEvent function\n  */\n  dispatchEvent: function dispatchEvent(event) {\n    var type = event.type;\n    var listeners = this._eventListeners[type] || [];\n\n    for (var i = 0; i < listeners.length; i++) {\n      if (typeof listeners[i] == \"function\") {\n        listeners[i].call(this, event);\n      } else {\n        listeners[i].handleEvent(event);\n      }\n    }\n\n    return !!event.defaultPrevented;\n  },\n\n  /*\n    Triggers an `onprogress` event with the given parameters.\n  */\n  _progress: function _progress(lengthComputable, loaded, total) {\n    var event = new _Event('progress');\n    event.target = this;\n    event.lengthComputable = lengthComputable;\n    event.loaded = loaded;\n    event.total = total;\n    this.dispatchEvent(event);\n  }\n}\n\n/*\n  Constructor for a fake window.XMLHttpRequest\n*/\nfunction FakeXMLHttpRequest() {\n  EventedObject.call(this);\n  this.readyState = FakeXMLHttpRequest.UNSENT;\n  this.requestHeaders = {};\n  this.requestBody = null;\n  this.status = 0;\n  this.statusText = \"\";\n  this.upload = new EventedObject();\n  this.onabort= null;\n  this.onerror= null;\n  this.onload= null;\n  this.onloadend= null;\n  this.onloadstart= null;\n  this.onprogress= null;\n  this.onreadystatechange= null;\n  this.ontimeout= null;\n}\n\nFakeXMLHttpRequest.prototype = new EventedObject();\n\n// These status codes are available on the native XMLHttpRequest\n// object, so we match that here in case a library is relying on them.\nFakeXMLHttpRequest.UNSENT = 0;\nFakeXMLHttpRequest.OPENED = 1;\nFakeXMLHttpRequest.HEADERS_RECEIVED = 2;\nFakeXMLHttpRequest.LOADING = 3;\nFakeXMLHttpRequest.DONE = 4;\n\nvar FakeXMLHttpRequestProto = {\n  UNSENT: 0,\n  OPENED: 1,\n  HEADERS_RECEIVED: 2,\n  LOADING: 3,\n  DONE: 4,\n  async: true,\n  withCredentials: false,\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's open function\n  */\n  open: function open(method, url, async, username, password) {\n    this.method = method;\n    this.url = url;\n    this.async = typeof async == \"boolean\" ? async : true;\n    this.username = username;\n    this.password = password;\n    this.responseText = null;\n    this.response = this.responseText;\n    this.responseXML = null;\n    this.responseURL = url;\n    this.requestHeaders = {};\n    this.sendFlag = false;\n    this._readyStateChange(FakeXMLHttpRequest.OPENED);\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's setRequestHeader function\n  */\n  setRequestHeader: function setRequestHeader(header, value) {\n    verifyState(this);\n\n    if (unsafeHeaders[header] || /^(Sec-|Proxy-)/.test(header)) {\n      throw new Error(\"Refused to set unsafe header \\\"\" + header + \"\\\"\");\n    }\n\n    if (this.requestHeaders[header]) {\n      this.requestHeaders[header] += \",\" + value;\n    } else {\n      this.requestHeaders[header] = value;\n    }\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's send function\n  */\n  send: function send(data) {\n    verifyState(this);\n\n    if (!/^(get|head)$/i.test(this.method)) {\n      var hasContentTypeHeader = false\n\n      Object.keys(this.requestHeaders).forEach(function (key) {\n        if (key.toLowerCase() === 'content-type') {\n          hasContentTypeHeader = true;\n        }\n      });\n\n      if (!hasContentTypeHeader && !(data || '').toString().match('FormData')) {\n        this.requestHeaders[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\n      }\n\n      this.requestBody = data;\n    }\n\n    this.errorFlag = false;\n    this.sendFlag = this.async;\n    this._readyStateChange(FakeXMLHttpRequest.OPENED);\n\n    if (typeof this.onSend == \"function\") {\n      this.onSend(this);\n    }\n\n    this.dispatchEvent(new _Event(\"loadstart\", false, false, this));\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's abort function\n  */\n  abort: function abort() {\n    this.aborted = true;\n    this.responseText = null;\n    this.response = this.responseText;\n    this.errorFlag = true;\n    this.requestHeaders = {};\n\n    this.dispatchEvent(new _Event(\"abort\", false, false, this));\n\n    if (this.readyState > FakeXMLHttpRequest.UNSENT && this.sendFlag) {\n      this._readyStateChange(FakeXMLHttpRequest.UNSENT);\n      this.sendFlag = false;\n    }\n\n    if (typeof this.onerror === \"function\") {\n      this.onerror();\n    }\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's getResponseHeader function\n  */\n  getResponseHeader: function getResponseHeader(header) {\n    if (this.readyState < FakeXMLHttpRequest.HEADERS_RECEIVED) {\n      return null;\n    }\n\n    if (/^Set-Cookie2?$/i.test(header)) {\n      return null;\n    }\n\n    header = header.toLowerCase();\n\n    for (var h in this.responseHeaders) {\n      if (h.toLowerCase() == header) {\n        return this.responseHeaders[h];\n      }\n    }\n\n    return null;\n  },\n\n  /*\n    Duplicates the behavior of native XMLHttpRequest's getAllResponseHeaders function\n  */\n  getAllResponseHeaders: function getAllResponseHeaders() {\n    if (this.readyState < FakeXMLHttpRequest.HEADERS_RECEIVED) {\n      return \"\";\n    }\n\n    var headers = \"\";\n\n    for (var header in this.responseHeaders) {\n      if (this.responseHeaders.hasOwnProperty(header) && !/^Set-Cookie2?$/i.test(header)) {\n        headers += header + \": \" + this.responseHeaders[header] + \"\\r\\n\";\n      }\n    }\n\n    return headers;\n  },\n\n  /*\n   Duplicates the behavior of native XMLHttpRequest's overrideMimeType function\n   */\n  overrideMimeType: function overrideMimeType(mimeType) {\n    if (typeof mimeType === \"string\") {\n      this.forceMimeType = mimeType.toLowerCase();\n    }\n  },\n\n\n  /*\n    Places a FakeXMLHttpRequest object into the passed\n    state.\n  */\n  _readyStateChange: function _readyStateChange(state) {\n    this.readyState = state;\n\n    if (typeof this.onreadystatechange == \"function\") {\n      this.onreadystatechange(new _Event(\"readystatechange\"));\n    }\n\n    this.dispatchEvent(new _Event(\"readystatechange\"));\n\n    if (this.readyState == FakeXMLHttpRequest.DONE) {\n      this.dispatchEvent(new _Event(\"load\", false, false, this));\n    }\n    if (this.readyState == FakeXMLHttpRequest.UNSENT || this.readyState == FakeXMLHttpRequest.DONE) {\n      this.dispatchEvent(new _Event(\"loadend\", false, false, this));\n    }\n  },\n\n\n  /*\n    Sets the FakeXMLHttpRequest object's response headers and\n    places the object into readyState 2\n  */\n  _setResponseHeaders: function _setResponseHeaders(headers) {\n    this.responseHeaders = {};\n\n    for (var header in headers) {\n      if (headers.hasOwnProperty(header)) {\n          this.responseHeaders[header] = headers[header];\n      }\n    }\n\n    if (this.forceMimeType) {\n      this.responseHeaders['Content-Type'] = this.forceMimeType;\n    }\n\n    if (this.async) {\n      this._readyStateChange(FakeXMLHttpRequest.HEADERS_RECEIVED);\n    } else {\n      this.readyState = FakeXMLHttpRequest.HEADERS_RECEIVED;\n    }\n  },\n\n  /*\n    Sets the FakeXMLHttpRequest object's response body and\n    if body text is XML, sets responseXML to parsed document\n    object\n  */\n  _setResponseBody: function _setResponseBody(body) {\n    verifyRequestSent(this);\n    verifyHeadersReceived(this);\n    verifyResponseBodyType(body);\n\n    var chunkSize = this.chunkSize || 10;\n    var index = 0;\n    this.responseText = \"\";\n    this.response = this.responseText;\n\n    do {\n      if (this.async) {\n        this._readyStateChange(FakeXMLHttpRequest.LOADING);\n      }\n\n      this.responseText += body.substring(index, index + chunkSize);\n      this.response = this.responseText;\n      index += chunkSize;\n    } while (index < body.length);\n\n    var type = this.getResponseHeader(\"Content-Type\");\n\n    if (this.responseText && (!type || /(text\\/xml)|(application\\/xml)|(\\+xml)/.test(type))) {\n      try {\n        this.responseXML = parseXML(this.responseText);\n      } catch (e) {\n        // Unable to parse XML - no biggie\n      }\n    }\n\n    if (this.async) {\n      this._readyStateChange(FakeXMLHttpRequest.DONE);\n    } else {\n      this.readyState = FakeXMLHttpRequest.DONE;\n    }\n  },\n\n  /*\n    Forces a response on to the FakeXMLHttpRequest object.\n\n    This is the public API for faking responses. This function\n    takes a number status, headers object, and string body:\n\n    ```\n    xhr.respond(404, {Content-Type: 'text/plain'}, \"Sorry. This object was not found.\")\n\n    ```\n  */\n  respond: function respond(status, headers, body) {\n    this._setResponseHeaders(headers || {});\n    this.status = typeof status == \"number\" ? status : 200;\n    this.statusText = httpStatusCodes[this.status];\n    this._setResponseBody(body || \"\");\n  }\n};\n\nfor (var property in FakeXMLHttpRequestProto) {\n  FakeXMLHttpRequest.prototype[property] = FakeXMLHttpRequestProto[property];\n}\n\nfunction verifyState(xhr) {\n  if (xhr.readyState !== FakeXMLHttpRequest.OPENED) {\n    throw new Error(\"INVALID_STATE_ERR\");\n  }\n\n  if (xhr.sendFlag) {\n    throw new Error(\"INVALID_STATE_ERR\");\n  }\n}\n\n\nfunction verifyRequestSent(xhr) {\n    if (xhr.readyState == FakeXMLHttpRequest.DONE) {\n        throw new Error(\"Request done\");\n    }\n}\n\nfunction verifyHeadersReceived(xhr) {\n    if (xhr.async && xhr.readyState != FakeXMLHttpRequest.HEADERS_RECEIVED) {\n        throw new Error(\"No headers received\");\n    }\n}\n\nfunction verifyResponseBodyType(body) {\n    if (typeof body != \"string\") {\n        var error = new Error(\"Attempted to respond to fake XMLHttpRequest with \" +\n                             body + \", which is not a string.\");\n        error.name = \"InvalidBodyException\";\n        throw error;\n    }\n}\nexport default FakeXMLHttpRequest;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}